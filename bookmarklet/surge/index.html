<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>console-log-element bookmarklet backup</title>
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/gh/hchiam/css-boilerplate@6.0.0/style.css"
    integrity="sha384-thHsntRltFQFgrHgl7/avBhQ+uXkABJlP8wgGW62xGYYlLgaPGbEFQ0xdPcVDDI8"
    crossorigin="anonymous"
  />
  <style>
    body {
      text-align: center;
    }
  </style>
</head>
<body>
  <h1>console-log-element bookmarklet backup</h1>
  <a href="javascript:(function(){if(!document.getElementById(%22script_firefox-extension-console-log-element%22)){var n=document.createElement(%22script%22);n.id=%22script_firefox-extension-console-log-element%22,n.innerHTML='\n\n (function () {\n\n var elementAlreadyExists = document.getElementById(\n %22firefox-extension-console-log-element%22\n );\n var widgetDefaultStyle =\n %22all: initial; z-index: 99999 !important; padding: 0 !important; position: fixed !important; bottom: 0 !important; visibility: visible; font-family: avenir, arial, tahoma, monospace !important; font-size: 1.5rem !important; margin-left: 5px !important; transition: 0.25s !important;%22;\n if (elementAlreadyExists) {\n elementAlreadyExists.hidden = false;\n elementAlreadyExists.style = widgetDefaultStyle;\n elementAlreadyExists.scrollIntoView();\n document\n .getElementById(%22inputBox_firefox-extension-console-log-element%22)\n .focus();\n return;\n }\n\n var lastInput = %22%22;\n\n var darkMode = %22background: #333; color: lime;%22;\n var defaultStyle =\n darkMode + %22padding: 0.3rem !important; border: none !important;%22;\n var inputBoxDefaultStyle =\n defaultStyle +\n %22margin-right: 0 !important; border-radius: 0.2rem 0 0 0.2rem !important; background: black;%22;\n var inputButtonDefaultStyle =\n defaultStyle +\n %22margin-left: 0 !important; border-radius: 0 0.2rem 0.2rem 0 !important;%22;\n var inputHoverStyle = %22background: lime; color: black !important;%22;\n\n var inputGroupDiv = document.createElement(%22div%22);\n inputGroupDiv.id = %22inputGroup_firefox-extension-console-log-element%22;\n inputGroupDiv.style =\n %22border-radius: 0.3rem !important; display: grid !important; grid-template: auto %2F auto 15ch; border: 2px solid lightgrey !important; padding: 0 !important;%22;\n\n var inputBox = createInputBox();\n var inputButton = createInputButton();\n var consoleOutput = createConsoleOutput();\n var theWholeThingDiv = createConsoleLogWidget();\n\n inputBox.focus();\n\n var isFromInterface = false;\n\n redefineConsoleActions();\n\n function redefineConsoleActions() {\n var oldConsoleLog = console.log;\n var oldConsoleInfo = console.info;\n var oldConsoleWarn = console.warn;\n var oldConsoleError = console.error;\n var oldConsoleDebug = console.debug;\n\n console.log = function () {\n oldConsoleLog.call(console, ...arguments);\n if (isFromInterface) outputToWidget(arguments[0]);\n isFromInterface = false;\n };\n console.info = function () {\n oldConsoleInfo.call(console, ...arguments);\n if (isFromInterface) outputToWidget(arguments[0]);\n isFromInterface = false;\n };\n console.warn = function () {\n oldConsoleWarn.call(console, ...arguments);\n if (isFromInterface) outputToWidget(arguments[0]);\n isFromInterface = false;\n };\n console.error = function () {\n oldConsoleError.call(console, ...arguments);\n if (isFromInterface) outputToWidget(arguments[0]);\n isFromInterface = false;\n };\n console.debug = function () {\n oldConsoleDebug.call(console, ...arguments);\n if (isFromInterface) outputToWidget(arguments[0]);\n isFromInterface = false;\n };\n }\n\n function outputToWidget(input) {\n var temp = document.getElementById(%22firefox-extension-console-log-element%22);\n document.getElementById(%22firefox-extension-console-log-element%22).remove();\n var output = %22%22;\n try {\n output = eval(input);\n if (isElement(output)) {\n output = output.outerHTML.replace(%2F<%2Fg, %22&lt;%22).replace(%2F\\%2F%2Fg, %22%2F%22);\n } else if (typeof output === %22object%22) {\n output = JSON.stringify(output, null, 4);\n } else if (typeof output === %22string%22) {\n output = output.replace(%2F<%2Fg, %22&lt;%22).replace(%2F\\%2F%2Fg, %22%2F%22);\n }\n input = String(input).replace(%2F<%2Fg, %22&lt;%22).replace(%2F\\%2F%2Fg, %22%2F%22);\n consoleOutput.innerHTML +=\n \'<button style=%22background: black; color: lime; text-align: left;%22 onclick=%22document.getElementById(\\\'inputBox_firefox-extension-console-log-element\\\').value=this.innerText;%22>\' +\n input +\n %22<%2Fbutton><br%2F>%22 +\n \'<span style=%22background: black; color: white;%22>\' +\n output +\n %22<%2Fspan><br%2F><br%2F>%22;\n clearInput();\n } catch(e) {\n inputBox.value = input;\n updateInputRows();\n consoleOutput.innerHTML +=\n \'<span style=%22background: black; color: lime;%22>\' +\n input +\n %22<%2Fspan><br%2F>%22 +\n \'<span style=%22background: black; color: white;%22>\' +\n %22<small><em>%22 + e + %22<%2Fem><%2Fsmall>%22 +\n %22<%2Fspan><br%2F><br%2F>%22;\n makeInputGroupWobble();\n }\n document.body.appendChild(temp);\n inputBox.focus();\n }\n\n function createInputBox() {\n var inputBox = document.createElement(%22textarea%22);\n inputBox.id = %22inputBox_firefox-extension-console-log-element%22;\n inputBox.placeholder = %22console log input here%22;\n inputBox.title = %22enter x to hide this widget%22;\n inputBox.style = inputBoxDefaultStyle;\n inputBox.setAttribute(%22autocapitalize%22, %22none%22);\n inputBox.setAttribute(%22rows%22, 1);\n inputBox.onkeyup = function (event) {\n var holdingShiftOrCtrl = event.shiftKey === true || event.ctrlKey === true;\n var hitEnter = event.key === %22Enter%22 || event.keyCode === 13;\n var hitDelete = event.key === %22Delete%22 || event.keyCode === 8 || event.keyCode === 46;\n var hitArrowUp = event.key === %22ArrowUp%22 || event.keyCode === 38;\n if (holdingShiftOrCtrl && hitEnter) {\n triggerInputToConsole();\n } else if (hitEnter || hitDelete) {\n updateInputRows();\n } else if (inputBox.value === %22%22 && hitArrowUp) {\n enterLastInput();\n }\n };\n inputBox.onmouseenter = function () {\n inputBox.style = inputBoxDefaultStyle + inputHoverStyle;\n inputBox.focus();\n };\n inputBox.onmouseleave = function () {\n inputBox.style = inputBoxDefaultStyle;\n };\n return inputBox;\n }\n\n function createInputButton() {\n var inputButton = document.createElement(%22button%22);\n inputButton.id = %22inputButton_firefox-extension-console-log-element%22;\n inputButton.innerText = %22Send command%22;\n inputButton.title = %22enter x to hide this widget%22;\n inputButton.style = inputButtonDefaultStyle;\n inputButton.onclick = function () {\n triggerInputToConsole();\n updateInputRows();\n inputBox.focus();\n };\n inputButton.onmouseenter = function () {\n inputButton.style = inputButtonDefaultStyle + inputHoverStyle;\n if (inputBox.value === %22%22) {\n inputBox.focus();\n }\n };\n inputButton.onmouseleave = function () {\n inputButton.style = inputButtonDefaultStyle;\n };\n inputButton.onfocus = function () {\n inputButton.style = inputButtonDefaultStyle + inputHoverStyle;\n };\n inputButton.onblur = function () {\n inputButton.style = inputButtonDefaultStyle;\n };\n return inputButton;\n }\n\n function createConsoleOutput() {\n var defaultOutputStyle = \n %22margin-top: 1px !important; max-height: 100px !important; overflow: scroll !important; width: 90vw !important; background: black !important; color: white !important; border: none !important; border-radius: 0.3rem !important; padding: 5px !important;%22;\n var consoleOutput = document.createElement(%22pre%22);\n consoleOutput.id = %22output_firefox-extension-console-log-element%22;\n consoleOutput.style = defaultOutputStyle;\n consoleOutput.onclick = function (e) {\n if (e.target !== consoleOutput) return;\n var expandedHeight = %2290vh%22;\n var shouldCollapse = (consoleOutput.style.height === expandedHeight || consoleOutput.innerText === %22%22);\n if (shouldCollapse) {\n consoleOutput.style = defaultOutputStyle;\n } else {\n consoleOutput.style.height = %2290vh%22;\n consoleOutput.style.maxHeight = %2290vh%22;\n consoleOutput.style.opacity = 0.9;\n }\n };\n return consoleOutput;\n }\n\n function createConsoleLogWidget() {\n var theWholeThingDiv = document.createElement(%22div%22);\n theWholeThingDiv.id = %22firefox-extension-console-log-element%22;\n theWholeThingDiv.style = widgetDefaultStyle + %22visibility: hidden;%22;\n inputGroupDiv.appendChild(inputBox);\n inputGroupDiv.appendChild(inputButton);\n theWholeThingDiv.appendChild(inputGroupDiv);\n theWholeThingDiv.appendChild(consoleOutput);\n document.body.appendChild(theWholeThingDiv);\n return theWholeThingDiv;\n }\n\n function isElement(element) {\n return (\n element &&\n (element instanceof Element || element instanceof HTMLDocument)\n );\n }\n\n function updateInputRows() {\n var newLineCharCount = (inputBox.value.match(%2F\\n%2Fg) || []).length;\n inputBox.setAttribute(%22rows%22, 1 + newLineCharCount);\n }\n\n function triggerInputToConsole() {\n var consoleInput = inputBox.value;\n if (consoleInput === %22%22) makeInputGroupWobble();\n try {\n inputToConsole(consoleInput);\n } catch (e) {\n makeInputGroupWobble();\n }\n }\n\n function inputToConsole(stringInput) {\n stringInput = stringInput.trim();\n lastInput = stringInput;\n if (stringInput === %22%22) return;\n if (handledClear(stringInput) || handledCustomCommandX(stringInput)) {\n return;\n }\n\n isFromInterface = true;\n console.log(stringInput);\n consoleOutput.scrollTop = consoleOutput.scrollHeight;\n consoleOutput.scrollIntoView();\n }\n\n function handledClear(stringInput) {\n if (stringInput === %22clear()%22) {\n consoleOutput.innerHTML = %22%22;\n clearInput();\n return true;\n }\n return false;\n }\n\n function handledCustomCommandX(stringInput) {\n stringInput = stringInput.toLowerCase();\n if (\n stringInput === %22x%22 ||\n stringInput === \'%22x%22\' ||\n stringInput === %22\'x\'%22\n ) {\n var confirmed = confirm(%22Do you want to hide this console log widget?%22);\n if (!confirmed) return false;\n theWholeThingDiv.hidden = true;\n theWholeThingDiv.style = widgetDefaultStyle + %22visibility: hidden;%22;\n return true;\n }\n return false;\n }\n\n function clearInput() {\n inputBox.value = %22%22;\n }\n\n function makeInputGroupWobble() {\n var wobbleCss = document.createTextNode(`.wobble {\n animation: wobble 0.5s;\n }\n @keyframes wobble {\n 0% { transform: rotate(-3deg); }\n 50% {transform: rotate(3deg); }\n 100% { transform: rotate(0deg); }\n }`);\n\n var styleAlreadyExists = document.getElementById(%22wobble-css%22);\n if (!styleAlreadyExists) {\n var style = document.createElement(%22style%22);\n style.id = %22wobble-css%22;\n style.type = %22text%2Fcss%22;\n style.appendChild(wobbleCss);\n document.body.appendChild(style);\n }\n\n inputGroupDiv.classList.add(%22wobble%22);\n setTimeout(() => {\n inputGroupDiv.classList.remove(%22wobble%22);\n }, 500);\n }\n\n function enterLastInput() {\n inputBox.value = lastInput;\n }\n\n function $(selector, el) {\n if (!el) {\n el = document;\n }\n return el.querySelector(selector);\n }\n\n function $$(selector, el) {\n if (!el) {\n el = document;\n }\n return el.querySelectorAll(selector);\n }\n })();\n ',document.body.appendChild(n)}}(),function(){var n=document.getElementById(%22firefox-extension-console-log-element%22);n.hidden=!1,n.style=%22all: initial; z-index: 99999 !important; padding: 0 !important; position: fixed !important; bottom: 0 !important; left: 0 !important; visibility: visible; font-family: avenir, arial, tahoma, monospace !important; font-size: 16px !important; margin-left: 5px !important; transition: 0.25s !important;%22,n.scrollIntoView();var t=document.getElementById(%22inputBox_firefox-extension-console-log-element%22);t.value=%22%22,t.setAttribute(%22rows%22,1),setTimeout(()=>{t.focus()},100)}())();
">use this link to create a bookmarklet in Chrome?</a>
</body>
</html>